# 3.6

现在，我们有了一种方法，可以通过系统调用或者说ECALL指令，将控制权从应用程序转到操作系统中。之后内核负责实现具体的功能并检查参数以确保不会被一些坏的参数所欺骗。所以内核有时候也被称为可被信任的计算空间（Trusted Computing Base），在一些安全的术语中也被称为TCB。

基本上来说，要被称为TCB，内核首先要是正确且没有Bug的**。**假设内核中有Bug，攻击者可能会利用那个Bug，并将这个Bug转变成攻击点，这个攻击点使得攻击者可以打破操作系统的隔离性或者接管内核。所以内核真的是需要越少的Bug越好。

![](../.gitbook/assets/image%20%2880%29.png)

另一方面，内核必须要将用户应用程序或者进程当做是恶意的。如我之前所说的，内核的设计人员在编写和实现内核代码时，必须要有安全的思想。这个目标很难实现，因为当你的操作系统变得足够大的时候，很多事情就不是那么直观了。你知道的，几乎每一个你用过的或者被广泛使用的操作系统，时不时的都有一个安全漏洞。就算被修复了，但是过了一段时间，又会出现一个新的攻击点。我们之后会介绍为什么很难让所有部分都正确工作，但是你要知道是内核需要做一些tricky的工作，需要操纵硬件，需要非常小心做检查，所以很容易就出现一些小的疏漏，进而触发一个Bug。这也是可以理解的。

![](../.gitbook/assets/image%20%2881%29.png)

一个有趣的问题是，什么程序应该运行在kernel mode，因为内核代码肯定是运行在kernel mode，这些是敏感的代码，是Trusted Computing Base。对于这个问题的一个答案是

