# 17.5 Garbage Collector

接下来我会讨论另一个例子，也就是Garbage Collector（GC），并且我也收到了很多有关Garbage Collector的问题。

GC是指编程语言替程序员完成内存分配和内存释放。所以程序员就不用像在C语言中一样，调用malloc和free来申请和释放内存。拥有GC的编程语言，程序只需要调用类似malloc来申请内存，但是不需要担心释放内存。GC会决定内存是否还在使用，如果内存并没有被使用，那么GC会释放内存。这个特性很好，有哪些编程语言带有GC呢？Java，Python，Golang，几乎除了C和Rust，其他所有的编程语言都带有GC。

你可以想象，GC有很大的设计空间。这节课讨论的论文并没有说什么样的GC是最好的，只是展示了GC可以利用用户空间虚拟内存特性。论文讨论的特定GC，是一种copying GC。什么是copying GC？假设你有一段内存作为heap，应用程序从其中申请内存。你将这段内存分为两个部分，其中一部分是from，另一部分是to。当程序刚刚启动的时候，所有的内存都是空闲的，然后程序会从from部分申请内存。假设我们申请了一个类似树的数据结构。树的根节点中包含了一个指针指向另一个对象，这个对象和根节点都包含了一个指针指向第三个对象。这里构成了一个循环。

![](../.gitbook/assets/image%20%28771%29.png)

或许应用程序在内存中还有其他对象，但是没有别的指针指向这些对象，所以还在使用的对象可以从根节点访问到。在某个时间，或许因为之前申请了大量的内存，已经没有空间给新对象了，也就是说整个from部分都被使用了。

Copying GC的基本思想是将对象拷贝到to部分去，

