# 14.1

今天介绍的是文件系统。实际上我们会花3节课的时间来学习文件系统。前两节是基于XV6的介绍，第三节是基于Linux做介绍。实际上，这是我们介绍的有关XV6的最后一个话题，这周之后我们就讲完了XV6。

对于文件系统，你们都知道它并使用它。它也是操作系统除了shell以外最常见的用户接口。所以我们希望通过这几节课来理解，文件系统的背后究竟是什么原理，文件系统是如何实现的。这些内容还是让人有些小激动，因为你们一直都在使用文件系统。

或许在深入到任何一个细节之前，你会想要从一个问题开始：既然你每天都使用了文件系统，XV6的文件系统与你正在使用的文件系统有什么区别。接下来我会点名：

> 学生回答：其中一点是，XV6支持的文件大小远小于其他文件系统。其次一些文件的文件名也较短。第三点，我不认为XV6的文件系统有copy-on-write。
>
> Frans教授：很好，那有什么相似的地方吗？
>
> 学生回答：基本的结构是类似的，比如说都有文件名，都有inode，目录等等。
>
> Fans教授：很好，我再问一个同学，XV6的文件系统与你正在使用的文件系统有什么异同？
>
> 学生回答：文件目录结构都是层级的。

接下来让我深入介绍一些内容，并讨论一些文件系统突出的特性。其中一点刚刚有同学提到了，就是对于用户友好的文件名，具体来说就是层级的路径名，这可以帮助用户组织目录中的文件。

通过将文件命名成方便易记的名字，可以在用户之间和进程之间能更简单的共享文件。

相比我们已经看过的XV6其他子系统，这一点或许是最重要的，文件系统提供了持久化。这意味着，我可以关闭一个计算机，过几天再开机文件仍然可以在那，你可以继续基于文件的工作。这一点与进程和其他资源不一样，这些资源在计算机重启时就会消失，之后你需要重新启动它们，但是文件系统就可以提供持久化。

所以你们都使用了文件系统，接下来几节课我们将学习它内部是如何工作的。

